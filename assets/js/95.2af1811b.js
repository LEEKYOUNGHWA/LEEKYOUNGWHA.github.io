(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{597:function(t,s,a){"use strict";a.r(s);var e=a(2),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"frontmatter-title"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[t._v("#")]),t._v(" "+t._s(t.$frontmatter.title))]),t._v(" "),s("p",[t._v("vuepress 블로그에 tui.grid 삽입 삽질기를 기록해 본다.")]),t._v(" "),s("toastGrid"),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/nhn/tui.grid/blob/master/packages/toast-ui.vue-grid/docs/getting-started.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("toast-ui.vue-grid"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://nhn.github.io/tui.grid/latest/",target:"_blank",rel:"noopener noreferrer"}},[t._v("tui.grid"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_1-설치"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-설치"}},[t._v("#")]),t._v(" 1. 설치")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--save")]),t._v(" @toast-ui/vue-grid\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("일단 패키지 설치해 준다.")]),t._v(" "),s("h2",{attrs:{id:"_2-vue-파일-생성"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-vue-파일-생성"}},[t._v("#")]),t._v(" 2. vue 파일 생성")]),t._v(" "),s("p",[s("code",[t._v(".components")]),t._v(" 아래 toastGrid.vue 파일 생성하고 소스 코드 작성해 준다.")]),t._v(" "),s("h2",{attrs:{id:"_3-오류-해결"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-오류-해결"}},[t._v("#")]),t._v(" 3. 오류 해결")]),t._v(" "),s("p",[t._v("오류 해결을 위해 조치했던 것들을 남겨 본다..")]),t._v(" "),s("h3",{attrs:{id:"render-function-or-template-not-defined-in-component"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#render-function-or-template-not-defined-in-component"}},[t._v("#")]),t._v(" render function or template not defined in component")]),t._v(" "),s("p",[t._v("본인은 SPA 기반 개발을 했었어서 SSR에 대해서 잘 알지 못했다... 이번에 삽질 하면서 많은것을 알게 되었다.... 그간의 의문이 약간 풀리는 느낌..")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://v1.vuepress.vuejs.org/guide/using-vue.html#browser-api-access-restrictions",target:"_blank",rel:"noopener noreferrer"}},[t._v("공식문서"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://stackoverflow.com/questions/54341251/render-function-or-template-not-defined-in-component-anonymous",target:"_blank",rel:"noopener noreferrer"}},[t._v("stackOverflow - function or template not defined"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://vuejs.org/guide/scaling-up/ssr",target:"_blank",rel:"noopener noreferrer"}},[t._v("SSR"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://velog.io/@ru_bryunak/SPA-%EC%82%AC%EC%9A%A9%EC%97%90%EC%84%9C%EC%9D%98-SSR%EA%B3%BC-CSR",target:"_blank",rel:"noopener noreferrer"}},[t._v("SSR vs SPA"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("공식문서에 친절하게 가이드가 나와있다. 뷰프레스는 ssr 기반이므로 component를 mounted 에서 임포트 해주도록 바꾸어준다.")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mounted")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../../node_modules/@toast-ui/vue-grid'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("module")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dynamicComponent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Grid\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("그리고 컴포넌트를 마운트 되고 난 후 임포트 할 수 있도록 template 소스도 수정해 준다.")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("component\n    v"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dynamicComponent"')]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("is"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dynamicComponent"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"referenceerror-global-is-not-defined"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#referenceerror-global-is-not-defined"}},[t._v("#")]),t._v(" ReferenceError: global is not defined")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://stackoverflow.com/a/73208485/10222566",target:"_blank",rel:"noopener noreferrer"}},[t._v("stackOverflow - global is not defined"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("vite용 해결책이긴 한데 둘다 SSR이라 원리는 같을거 같아 적용해 보았더니 해결되었다. tui-grid 에서 글로벌 필드를 사용하는데 vuepress에서 정의 되어 있지 않은것으로 추측 된다.")]),t._v(" "),s("p",[t._v("mounted 제일 처음에 소스 추가해 준다.")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("global "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||=")]),t._v(" window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"css"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css"}},[t._v("#")]),t._v(" CSS!!!!!!!!!!!")]),t._v(" "),s("p",[t._v("그리드에 글자가 나오지 않아 또 한참 해멨다...하.. 그리드 공식 문서 대로 css를 임포트 하면 글자가 사라지는 것이다...?! 거의 없다시피 한 css 지식을 쥐어 짜내어 가로 폭을 결정하는 css 위치를 찾아 내었다.")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/nhn/tui.grid/blob/master/packages/toast-ui.grid/src/css/grid.css",target:"_blank",rel:"noopener noreferrer"}},[t._v("toast-ui.grid/src/css/grid.css"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v(".tui-grid-table 클래스를 보면 "),s("code",[t._v("width: 1px;")]),t._v(" 로 되어 있는 것을 볼 수 있다. 이게 분명히 어디서 상속을 받던 스크립트로 조절을 해주던 조절을 해줄거 같은데\n뷰프레스 css랑 어디서 충돌이 나는건지 .... 크롬 개발자 도구에서 소스를 보면 걍 1px로 고정되어 있었다. 나의 짧은 지식으로는 도저히 찾지 못하겠어서 내 컴포넌트 소스 상에서 제어해 주기로 결정했다.")]),t._v(" "),s("p",[t._v("그리고 또다시 시작된 css 삽질기... 그러던중 빛과 같은 해결책 발견...")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://stackoverflow.com/a/70394225",target:"_blank",rel:"noopener noreferrer"}},[t._v("easiest way to make your parent div inherit it's child width."),s("OutboundLink")],1)])]),t._v(" "),s("p",[s("code",[t._v("width:max-content;")])]),t._v(" "),s("p",[t._v("상위 div가 하위 div 의 너비를 상속받게 만드는 방법이다.")]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".tui-grid-table")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("max-content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("box-sizing")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" border-box"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("table-layout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fixed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-collapse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" collapse"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("border")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1px hidden transparent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-bottom")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" black"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("blockquote",[s("p",[t._v("이렇게 쓰면 안될거 같긴한데..... 뭐 내블로그니까 ^^")])]),t._v(" "),s("p",[t._v("그리드 임포트 완료!")]),t._v(" "),s("p",[s("toastGrid",{attrs:{data:[{name:"그리드",artist:"테스트"},{name:"마크다운에서",artist:"내용작성가능"}],columns:[{header:"title",name:"name"},{header:"desc",name:"artist",width:400}],options:{scrollX:!1,scrollY:!1,draggable:!1}}})],1),t._v(" "),s("p",[s("code",[t._v("markdown.md")])]),t._v(" "),s("Gist",{attrs:{gistId:"ad76ab3dc136bb5720b91f2510696238",file:"markdown.md"}}),t._v(" "),s("p",[s("code",[t._v("src\\.vuepress\\components\\toastGrid.vue")])]),t._v(" "),s("Gist",{attrs:{gistId:"ad76ab3dc136bb5720b91f2510696238",file:"toastGrid.vue"}})],1)}),[],!1,null,null,null);s.default=n.exports}}]);